<UserControl x:Class="ProgramZaRacunovodstvo.Views.Nabavke"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:ProgramZaRacunovodstvo.ViewModels"
             mc:Ignorable="d"
             d:DesignHeight="450"
             d:DesignWidth="800">
    <UserControl.DataContext>
        <local:NabavkeViewModel />
    </UserControl.DataContext>
    <Grid Background="White">
        <Grid.RowDefinitions>
            <RowDefinition Height="300" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Border CornerRadius="20"
                Padding="0"
                Background="White"
                Grid.Row="1"
                Margin="20,0,20,20">
            <Border.Effect>
                <DropShadowEffect BlurRadius="10"
                                  ShadowDepth="2"
                                  Opacity="0.3" />
            </Border.Effect>
            <DataGrid AutoGenerateColumns="False"
                      CanUserAddRows="False"
                      CanUserResizeRows="False"
                      GridLinesVisibility="None"
                      HeadersVisibility="Column"
                      RowBackground="#F8F9FA"
                      AlternatingRowBackground="#E9ECEF"
                      BorderBrush="Gray"
                      BorderThickness="0"
                      FontSize="16"
                      FontFamily="pack://application:,,,/Fonts/#Poppins Light"
                      HorizontalGridLinesBrush="Transparent"
                      VerticalGridLinesBrush="Transparent"
                      ItemsSource="{Binding Nabavke}"
                      Width="auto"
                      HorizontalAlignment="Center"
                      ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                      ScrollViewer.VerticalScrollBarVisibility="Disabled">

                <DataGrid.Columns>
                    <DataGridTextColumn Header="Broj fakture"
                                        Binding="{Binding BrojFakture}"
                                        Width="*"
                                        MinWidth="120">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="TextAlignment"
                                        Value="Center" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Center" />
                                <Setter Property="Padding"
                                        Value="10" />
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>

                    <DataGridTextColumn Header="Tip fakture"
                                        Binding="{Binding TipFakture}"
                                        Width="*"
                                        MinWidth="120">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="TextAlignment"
                                        Value="Center" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Center" />
                                <Setter Property="Padding"
                                        Value="10" />
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>

                    <DataGridTextColumn Header="Status"
                                        Binding="{Binding Status}"
                                        Width="*"
                                        MinWidth="120">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="TextAlignment"
                                        Value="Center" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Center" />
                                <Setter Property="Padding"
                                        Value="10" />
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>

                    <DataGridTextColumn Header="Dobavljač"
                                        Binding="{Binding Dobavljac}"
                                        Width="*"
                                        MinWidth="120">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="TextAlignment"
                                        Value="Center" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Center" />
                                <Setter Property="Padding"
                                        Value="10" />
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>

                    <DataGridTextColumn Header="Iznos"
                                        Binding="{Binding Iznos}"
                                        Width="*"
                                        MinWidth="120">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="TextAlignment"
                                        Value="Center" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Center" />
                                <Setter Property="Padding"
                                        Value="10" />
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>
                    <DataGridTextColumn Header="Datum"
                                        Binding="{Binding DatumSlanja, StringFormat=\{0:dd.MM.yyyy\}}"
                                        Width="*"
                                        MinWidth="120">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="TextAlignment"
                                        Value="Center" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Center" />
                                <Setter Property="Padding"
                                        Value="10" />
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>
                    <DataGridTemplateColumn Header="Akcije"
                                            Width="*">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal"
                                            HorizontalAlignment="Center">
                                    <Button Content=""
                                            Command="{Binding Izmeni}"
                                            Width="30"
                                            Height="30"
                                            BorderThickness="0"
                                            Background="#4CAF50"
                                            Foreground="White"
                                            Cursor="Hand"
                                            Margin="0,0,10,0" />

                                    <Button Content=""
                                            Command="{Binding Izbrisi}"
                                            Width="30"
                                            Height="30"
                                            BorderThickness="0"
                                            Background="#F44336"
                                            Foreground="White"
                                            Cursor="Hand"
                                            Margin="0,0,10,0"/>
                                    <Button Content=""
                                            Command="{Binding Detalji}"
                                            Width="30"
                                            Height="30"
                                            BorderThickness="0"
                                            Background="#FF4F72FF"
                                            Foreground="White"
                                            Cursor="Hand" />
                                </StackPanel>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                </DataGrid.Columns>

                <DataGrid.Resources>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background"
                                Value="#FF4F72FF" />
                        <Setter Property="Foreground"
                                Value="White" />
                        <Setter Property="FontWeight"
                                Value="Bold" />
                        <Setter Property="Padding"
                                Value="10" />
                        <Setter Property="HorizontalContentAlignment"
                                Value="Center" />
                    </Style>

                    <Style TargetType="DataGridRow">
                        <Setter Property="MinHeight"
                                Value="50" />
                        <Setter Property="ToolTip"
                                Value="Click for details" />
                        <Setter Property="Background"
                                Value="White" />
                        <Setter Property="BorderBrush"
                                Value="Transparent" />
                        <Style.Triggers>
                            <Trigger Property="IsSelected"
                                     Value="True">
                                <Setter Property="Background"
                                        Value="#17A2B8" />
                                <Setter Property="Foreground"
                                        Value="White" />
                            </Trigger>
                            <Trigger Property="IsMouseOver"
                                     Value="True">
                                <Setter Property="Background"
                                        Value="#D6EAF8" />
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </DataGrid.Resources>
            </DataGrid>
        </Border>
    </Grid>
</UserControl>
